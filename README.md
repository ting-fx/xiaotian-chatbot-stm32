# xiaotian-chatbot-stm32

本项目基于 STM32F779I-EVAL 开发板，实现一个本地语音到语音智能对话系统。
系统在本地服务器端部署语音到语音模型，开发板端负责语音采集、唤醒词识别、网络通信、界面显示与音频播放。

## 软件模块

- ThreadX：
实时操作系统，负责多任务调度与系统实时性保障。

- NetX Duo：
网络协议栈，负责与本地模型服务器进行音频与文本数据通信。

- GUIX：
嵌入式图形界面库，用于显示识别文本、系统状态等信息。

- Porcupine
唤醒词识别引擎，用于检测唤醒词并触发语音采集。

## 硬件接口

开发板集成 麦克风输入和音频输出接口，可外接音箱用于语音播放。

## 系统架构

![alt text](<docs/imgs/0 design.svg>)

功能流程：
- 语音录制：麦克风采集音频数据。

- 唤醒词识别：使用 Porcupine 检测唤醒词，唤醒后开始完整语音录制。

- 网络传输：录制的语音通过 NetX Duo 发送至本地部署的 TTS-to-TTS 模型服务器。

- 模型处理：服务器进行语音识别、语义处理和 TTS 合成。

- 结果返回与播放
    - GUIX 在屏幕上显示识别文本
    - 合成音频通过 DAC / SAI 输出至音箱